<!DOCTYPE html>
<html lang="en">
	<head>
		<title>DocuFast</title>
		<meta charset="utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta property="og:locale" content="en_US" />
		<meta property="og:type" content="article" />
		<meta property="og:title" content="DocuFast" />
		<meta property="og:url" content="" />
		<meta property="og:site_name" content="" />
		<link rel="canonical" href="" />
		<link rel="shortcut icon" href="assets/img/docufast-logo-small.png" />
		<!--begin::Fonts(mandatory for all pages)-->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700" />
		<!--end::Fonts-->
		<!--begin::Vendor Stylesheets(used for this page only)-->
		<link href="assets/plugins/custom/fullcalendar/fullcalendar.bundle.css" rel="stylesheet" type="text/css" />
		<link href="assets/plugins/custom/datatables/datatables.bundle.css" rel="stylesheet" type="text/css" />
		<!--end::Vendor Stylesheets-->
		<!--begin::Global Stylesheets Bundle(mandatory for all pages)-->
		<link href="assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
		<link href="assets/css/style.bundle.css" rel="stylesheet" type="text/css" />
		<!--end::Global Stylesheets Bundle-->
		<!-- jQuery -->
		<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
		<!-- Custom JS -->
		<script src="functions.js"></script>
	</head>
	<body id="kt_app_body" data-kt-app-header-fixed="true" data-kt-app-header-fixed-mobile="true" data-kt-app-sidebar-enabled="true" data-kt-app-sidebar-fixed="true" data-kt-app-sidebar-hoverable="true" data-kt-app-sidebar-push-toolbar="true" data-kt-app-sidebar-push-footer="true" class="app-default">
		<script>var defaultThemeMode = "light"; var themeMode; if ( document.documentElement ) { if ( document.documentElement.hasAttribute("data-bs-theme-mode")) { themeMode = document.documentElement.getAttribute("data-bs-theme-mode"); } else { if ( localStorage.getItem("data-bs-theme") !== null ) { themeMode = localStorage.getItem("data-bs-theme"); } else { themeMode = defaultThemeMode; } } if (themeMode === "system") { themeMode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light"; } document.documentElement.setAttribute("data-bs-theme", themeMode); }</script>
		<div class="d-flex flex-column flex-root app-root" id="kt_app_root">
			<div class="app-page flex-column flex-column-fluid" id="kt_app_page">

				<div id="kt_app_header" class="app-header d-flex flex-column flex-stack">
					<div class="d-flex flex-stack flex-grow-1">

						<div class="app-header-logo d-flex align-items-center ps-lg-12" id="kt_app_header_logo">
							<div id="kt_app_sidebar_toggle" class="app-sidebar-toggle btn btn-sm btn-icon bg-body btn-color-gray-500 btn-active-color-primary w-30px h-30px ms-n2 me-4 d-none d-lg-flex" data-kt-toggle="true" data-kt-toggle-state="active" data-kt-toggle-target="body" data-kt-toggle-name="app-sidebar-minimize">
								<i class="ki-outline ki-abstract-14 fs-3 mt-1"></i>
							</div>
							<div class="btn btn-icon btn-active-color-primary w-35px h-35px ms-3 me-2 d-flex d-lg-none" id="kt_app_sidebar_mobile_toggle">
								<i class="ki-outline ki-abstract-14 fs-2"></i>
							</div>
							<a href="index.html" class="app-sidebar-logo">
								<img alt="Logo" src="assets/img/docufast-logo.png" class="h-25px theme-light-show" />
								<img alt="Logo" src="assets/img/docufast-logo-white.png" class="h-25px theme-dark-show" />
							</a>
						</div>

						<div class="app-navbar flex-grow-1 justify-content-end" id="kt_app_header_navbar">

							<div class="app-navbar-item d-flex align-items-stretch flex-lg-grow-1">
								<div id="kt_header_search" class="header-search d-flex align-items-center w-lg-350px" data-kt-search-layout="menu" data-kt-search-responsive="true" data-kt-menu-trigger="auto" data-kt-menu-permanent="true" data-kt-menu-placement="bottom-start">
									<div data-kt-search-element="toggle" class="search-toggle-mobile d-flex d-lg-none align-items-center">
										<div class="d-flex">
											<i class="ki-outline ki-magnifier fs-1 fs-1"></i>
										</div>
									</div>
									<form data-kt-search-element="form" class="d-none d-lg-block w-100 position-relative mb-5 mb-lg-0" autocomplete="off">
										<i class="ki-outline ki-magnifier search-icon fs-2 text-gray-500 position-absolute top-50 translate-middle-y ms-5"></i>
										<input id="search-guides-query" onkeyup="searchGuides();" type="text" class="search-input form-control form-control border h-lg-45px ps-13" value="" placeholder="Search..." data-kt-search-element="input" />
									</form>
									<div data-kt-search-element="content" class="menu menu-sub menu-sub-dropdown py-7 px-7 overflow-hidden w-300px w-md-350px">
										<div data-kt-search-element="wrapper">
											<div class="" data-kt-search-element="main">
												<div class="d-flex flex-stack fw-semibold mb-4">
													<span class="text-muted fs-6 me-2">Guides:</span>
												</div>
												<div id="search-guides-results" class="scroll-y mh-200px mh-lg-325px">
													<span class="text-muted">Enter something to search guides...</span>
												</div>
											</div>
										</div>
									</div>
									<script>
										function searchGuides() {
											$('#search-guides-results').html('');
											api_request('get', 'guide/search', {
												session_token: session_token_get(),
												workspace_id: localStorage.getItem('workspace_id'),
												query: $('#search-guides-query').val()
											}, (response) => {
												response.guides.forEach(guide => {
													$('#search-guides-results').append(`
														<div class="d-flex align-items-center mb-5">
															<div class="symbol symbol-40px me-4">
																<span class="symbol-label bg-light">
																	<i class="ki-outline ki-laptop fs-2 text-primary"></i>
																</span>
															</div>
															<div class="d-flex flex-column">
																<a href="guide.html?id=`+guide.id+`" class="fs-6 text-gray-800 text-hover-primary fw-semibold">`+guide.name+`</a>
																<span class="fs-7 text-muted fw-semibold">`+guide.steps_count+` steps</span>
															</div>
														</div>
													`);
												});
											});
										}	
									</script>
								</div>
							</div>

							<div class="app-navbar-item ms-2 ms-lg-6 me-7">
								
							</div>

						</div>
					</div>
					<div class="app-header-separator"></div>
					
				</div>
				<!--end::Header-->
				<!--begin::Wrapper-->
				<div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper">
					<!--begin::Sidebar-->
					<div id="kt_app_sidebar" class="app-sidebar flex-column" data-kt-drawer="true" data-kt-drawer-name="app-sidebar" data-kt-drawer-activate="{default: true, lg: false}" data-kt-drawer-overlay="true" data-kt-drawer-width="250px" data-kt-drawer-direction="start" data-kt-drawer-toggle="#kt_app_sidebar_mobile_toggle">
						<!--begin::Wrapper-->
						<div class="app-sidebar-wrapper">
							<div id="kt_app_sidebar_wrapper" class="hover-scroll-y my-5 my-lg-2 mx-4" data-kt-scroll="true" data-kt-scroll-activate="{default: false, lg: true}" data-kt-scroll-height="auto" data-kt-scroll-dependencies="#kt_app_header" data-kt-scroll-wrappers="#kt_app_sidebar_wrapper" data-kt-scroll-offset="50px">
								<div id="#kt_app_sidebar_menu" data-kt-menu="true" data-kt-menu-expand="false" class="app-sidebar-menu-primary menu menu-column menu-rounded menu-sub-indention menu-state-bullet-primary px-3 mb-5">
									
									<a href="home.html" class="menu-item here show">
										<span class="menu-link">
											<span class="menu-icon">
												<i class="ki-outline ki-home-2 fs-2"></i>
											</span>
											<span class="menu-title">Home</span>
											<span class="menu-arrow"></span>
										</span>
									</a>

									<a href="guides.html" class="menu-item here show">
										<span class="menu-link">
											<span class="menu-icon">
												<i class="ki-outline ki-document fs-2"></i>
											</span>
											<span class="menu-title">Guides</span>
											<span class="menu-arrow"></span>
										</span>
									</a>

									<a href="guides.html?filter=created_by_me" class="menu-item here show">
										<span class="menu-link">
											<span class="menu-icon">
												<i class="ki-outline ki-document fs-2"></i>
											</span>
											<span class="menu-title">Created by me</span>
											<span class="menu-arrow"></span>
										</span>
									</a>

									<a href="users.html" class="menu-item here show">
										<span class="menu-link active">
											<span class="menu-icon">
												<i class="ki-outline ki-profile-user fs-2"></i>
											</span>
											<span class="menu-title">Users & permission</span>
											<span class="menu-arrow"></span>
										</span>
									</a>
									
									<a href="settings-workspace.html" class="menu-item here show">
										<span class="menu-link">
											<span class="menu-icon">
												<i class="ki-outline ki-setting-2 fs-2"></i>
											</span>
											<span class="menu-title">Workspace settings</span>
											<span class="menu-arrow"></span>
										</span>
									</a>

								</div>
							</div>
							<!--begin::Footer-->
							<div class="aside-footer flex-column-auto px-9 d-none">
								<div class="d-flex flex-stack">
									<div class="d-flex align-items-center">
										<div class="symbol symbol-circle symbol-40px">
											<img class="user-image" src="" alt="photo"/>
										</div>
										<div class="ms-2">
											<a href="#" class="user-name text-gray-800 text-hover-primary fs-6 fw-bold lh-1"></a>
											<span class="user-email text-muted fw-semibold d-block fs-7 lh-1"></span>
										</div>
									</div>
									<div class="ms-1">
										<div class="btn btn-sm btn-icon btn-active-color-primary position-relative me-n2" data-kt-menu-trigger="{default: 'click', lg: 'hover'}" data-kt-menu-overflow="true" data-kt-menu-placement="right-end">
											<i class="ki-duotone ki-setting-2 fs-1"><span class="path1"></span><span class="path2"></span></i>
										</div>
										<div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg menu-state-color fw-semibold py-4 fs-6 w-275px" data-kt-menu="true">
											<div class="menu-item px-3">
												<div class="menu-content d-flex align-items-center px-3">
													<div class="symbol symbol-50px me-5">
														<img class="user-image" alt="user-image" src="" />
													</div>
													<div class="d-flex flex-column">
														<div class="user-name fw-bold d-flex align-items-center fs-5"></div>
														<a href="#" class="user-email fw-semibold text-muted text-hover-primary fs-7"></a>
													</div>
												</div>
											</div>
											<div class="separator my-2"></div>
											<div class="menu-item px-5" data-kt-menu-trigger="{default: 'click', lg: 'hover'}" data-kt-menu-placement="right-end" data-kt-menu-offset="-15px, 0">
												<a href="#" class="menu-link px-5">
													<span class="menu-title position-relative">
														Workspaces
													</span>
													<!-- <span class="me-8 position-absolute translate-middle-y end-0" style="top:38%; cursor:pointer;">
														<span class="workspace-name badge badge-light-success fw-bold fs-8 px-2 py-1 ms-2">MyTaag 1</span>
													</span> -->
												</a>
												<div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-title-gray-700 menu-icon-gray-500 menu-active-bg menu-state-color fw-semibold py-4 fs-base w-250px">
													<div id="user-workspaces"></div>
													<div class="menu-item px-3 my-0">
														<a href="#" class="menu-link px-3 py-2" data-bs-toggle="modal" data-bs-target="#modal-create-workspace">
															<img src="https://taag.co/assets/img/create-company-plus.png" style="width: 35px; border-radius: 5px; margin-right: 10px;" alt="">
															<span class="menu-title">Create workspace</span>
														</a>
													</div>
												</div>
											</div>
											<div class="separator my-2"></div>
											<div class="menu-item px-5">
												<a href="settings-account.html" class="menu-link px-5">Account settings</a>
											</div>
											<div class="menu-item px-5">
												<a href="settings-plan.html" class="menu-link px-5">Subscription plan</a>
												<span class="me-8 position-absolute translate-middle-y end-0" style="top:70%; cursor:pointer;">
													<span class="badge badge-light-success fw-bold fs-8 px-2 py-1 ms-2">Pro</span>
												</span>
											</div>
											<div class="separator my-2"></div>
											<div class="menu-item px-5">
												<a href="#" onclick="session_token_delete()" class="menu-link px-5">Sign Out</a>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!--end::Footer-->
						</div>
						<!--end::Wrapper-->
						
					</div>
					<!--end::Sidebar-->

					<div class="app-main flex-column flex-row-fluid">
						<div class="d-flex flex-column flex-column-fluid mb-5">
							<div id="kt_app_content" class="app-content flex-column-fluid">
								<div id="kt_app_content_container" class="app-container container-fluid">

									<div class="row gx-xl-10">
										
										<div class="card">
											<div class="card-header border-0 pt-6">
												<div class="card-title">
													<div class="d-flex align-items-center position-relative my-1">
														<i class="ki-outline ki-magnifier fs-3 position-absolute ms-5"></i>
														<input id="search-users-query" type="text" data-kt-user-table-filter="search" class="form-control form-control-solid w-250px ps-13" placeholder="Search users..." onkeyup="searchUsers()"/>
														<script>
															function searchUsers() {
																api_request('GET', 'workspace/users/search', {
																	session_token: session_token_get(),
																	workspace_id: localStorage.getItem('workspace_id'),
																	query: $('#search-users-query').val()
																}, (response) => {
																	$('#workspace-users').html('');
																	response.users.forEach(user => {
																		$('#workspace-users').append(`
																			<tr>
																				<td>
																					<div class="form-check form-check-sm form-check-custom form-check-solid">
																						<input class="form-check-input" type="checkbox" value="1" />
																					</div>
																				</td>
																				<td class="d-flex align-items-center">
																					<div class="symbol symbol-circle symbol-50px overflow-hidden me-3">
																						<a href="#">
																							<div class="symbol-label">
																								<img src="`+(user.image ? user.image : 'assets/media/svg/avatars/blank.svg')+`" class="w-100" />
																							</div>
																						</a>
																					</div>
																					<div class="d-flex flex-column">
																						<a href="#" class="text-gray-800 text-hover-primary mb-1">`+(user.first_name)+` `+(user.last_name)+`</a>
																						<span>`+user.email+`</span>
																					</div>
																				</td>
																				<td>
																					<div class="badge badge-light fw-bold">`+user.role+`</div>
																				</td>
																				<td>`+user.number_of_guides+`</td>
																				<td class="text-end">
																					<a href="#" class="btn btn-light btn-active-light-primary btn-flex btn-center btn-sm" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end">Actions 
																					<i class="ki-outline ki-down fs-5 ms-1"></i></a>
																					<div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semibold fs-7 w-125px py-4" data-kt-menu="true">
																						<div class="menu-item px-3">
																							<a href="#" class="menu-link px-3">Edit</a>
																						</div>
																						<div class="menu-item px-3">
																							<a href="#" class="menu-link px-3" data-kt-users-table-filter="delete_row">Delete</a>
																						</div>
																					</div>
																				</td>
																			</tr>
																		`);
																	});
																});
															}
														</script>
													</div>
												</div>
												<div class="card-toolbar">
													<div class="d-flex justify-content-end" data-kt-user-table-toolbar="base">
														<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modal-invite-user-email">
														<i class="ki-outline ki-plus fs-2"></i>Add User</button>
													</div>
												</div>
											</div>
											<div class="card-body py-4">
												<table class="table align-middle table-row-dashed fs-6 gy-5" id="kt_table_users">
													<thead>
														<tr class="text-start text-muted fw-bold fs-7 text-uppercase gs-0">
															<th class="w-10px pe-2">
																<div class="form-check form-check-sm form-check-custom form-check-solid me-3">
																	<input class="form-check-input" type="checkbox" data-kt-check="true" data-kt-check-target="#kt_table_users .form-check-input" value="1" />
																</div>
															</th>
															<th class="min-w-125px">User</th>
															<th class="min-w-125px">Workspace role</th>
															<th class="min-w-125px">Guides</th>
															<th class="text-end min-w-100px">Actions</th>
														</tr>
													</thead>
													<tbody id="workspace-users" class="text-gray-600 fw-semibold"></tbody>
												</table>
											</div>
										</div>
										
									</div>

								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>

		<!--begin::Modal - Invite User-->
		<div class="modal fade" id="modal-invite-user-email" tabindex="-1" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered mw-400px">
				<div class="modal-content">
					<div class="modal-header pb-0 border-0 justify-content-end">
						<div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal">
							<i class="ki-duotone ki-cross fs-1">
								<span class="path1"></span>
								<span class="path2"></span>
							</i>
						</div>
					</div>
					<div class="modal-body scroll-y pt-0">
						<div class="mw-lg-600px mx-auto">
							<div class="text-center">
								<h1 class="mb-5">Invite user</h1>
								<div class="mb-5 text-muted fw-semibold fs-5">
									<input id="invite-user-email" type="text" class="form-control" placeholder="Workspace name">
								</div>
								<button type="button" class="btn btn-primary" onclick="api_request('POST', 'workspace/users/invite', {
									session_token: session_token_get(),
									email: $('#invite-user-email').val()
								}, (response) => {
									notification({
										message: 'User invited successfully'
									});
								})">Invite user</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--end::Modal - Invite User-->

		<!--begin::Modal - Create Workspace-->
		<div class="modal fade" id="modal-create-workspace" tabindex="-1" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered mw-400px">
				<div class="modal-content">
					<div class="modal-header pb-0 border-0 justify-content-end">
						<div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal">
							<i class="ki-duotone ki-cross fs-1">
								<span class="path1"></span>
								<span class="path2"></span>
							</i>
						</div>
					</div>
					<div class="modal-body scroll-y pt-0">
						<div class="mw-lg-600px mx-auto">
							<div class="text-center">
								<h1 class="mb-5">Create new workspace</h1>
								<div class="mb-5 text-muted fw-semibold fs-5">
									<input id="create-workspace-name" type="text" class="form-control" placeholder="Workspace name">
								</div>
								<button type="button" class="btn btn-primary" onclick="api_request('POST', 'workspace', {
									session_token: session_token_get(),
									name: $('#create-workspace-name').val()
								}, (response) => {
									localStorage.setItem('workspace_id', response.workspace_id);
									window.location.href = 'guides.html';
								})">Create workspace</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--end::Modal - Create Workspace-->

		<script>
			api_request('GET', 'user', {
				session_token: session_token_get()
			}, (response) => {
				// load user
				$('.user-name').html(response.user.first_name + ' ' + response.user.last_name);
				$('.user-email').html(response.user.email);
				$('.user-image').attr('src', (response.user.image ? response.user.image : 'assets/media/svg/avatars/blank.svg'));
			});
			workspaces_load();

			api_request('GET', 'workspace/users', {
				session_token: session_token_get(),
				workspace_id: localStorage.getItem('workspace_id')
			}, (response) => {
				response.users.forEach(user => {
					$('#workspace-users').append(`
						<tr>
							<td>
								<div class="form-check form-check-sm form-check-custom form-check-solid">
									<input class="form-check-input" type="checkbox" value="1" />
								</div>
							</td>
							<td class="d-flex align-items-center">
								<div class="symbol symbol-circle symbol-50px overflow-hidden me-3">
									<a href="#">
										<div class="symbol-label">
											<img src="`+(user.image ? user.image : 'assets/media/svg/avatars/blank.svg')+`" class="w-100" />
										</div>
									</a>
								</div>
								<div class="d-flex flex-column">
									<a href="#" class="text-gray-800 text-hover-primary mb-1">`+(user.first_name)+` `+(user.last_name)+`</a>
									<span>`+user.email+`</span>
								</div>
							</td>
							<td>
								<div class="badge badge-light fw-bold">`+user.role+`</div>
							</td>
							<td>`+user.number_of_guides+`</td>
							<td class="text-end">
								<a href="#" class="btn btn-light btn-active-light-primary btn-flex btn-center btn-sm" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end">Actions 
								<i class="ki-outline ki-down fs-5 ms-1"></i></a>
								<div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semibold fs-7 w-125px py-4" data-kt-menu="true">
									<div class="menu-item px-3">
										<a href="#" class="menu-link px-3">Edit</a>
									</div>
									<div class="menu-item px-3">
										<a href="#" class="menu-link px-3" data-kt-users-table-filter="delete_row">Delete</a>
									</div>
								</div>
							</td>
						</tr>
					`);
				});
			});
		</script>

		<!--begin::Javascript-->
		<script>var hostUrl = "assets/";</script>
		<!--begin::Global Javascript Bundle(mandatory for all pages)-->
		<script src="assets/plugins/global/plugins.bundle.js"></script>
		<script src="assets/js/scripts.bundle.js"></script>
		<!--end::Global Javascript Bundle-->
		<!--begin::Vendors Javascript(used for this page only)-->
		<script src="assets/plugins/custom/fullcalendar/fullcalendar.bundle.js"></script>
		<script src="https://cdn.amcharts.com/lib/5/index.js"></script>
		<script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
		<script src="https://cdn.amcharts.com/lib/5/percent.js"></script>
		<script src="https://cdn.amcharts.com/lib/5/radar.js"></script>
		<script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
		<script src="https://cdn.amcharts.com/lib/5/map.js"></script>
		<script src="https://cdn.amcharts.com/lib/5/geodata/worldLow.js"></script>
		<script src="https://cdn.amcharts.com/lib/5/geodata/continentsLow.js"></script>
		<script src="https://cdn.amcharts.com/lib/5/geodata/usaLow.js"></script>
		<script src="https://cdn.amcharts.com/lib/5/geodata/worldTimeZonesLow.js"></script>
		<script src="https://cdn.amcharts.com/lib/5/geodata/worldTimeZoneAreasLow.js"></script>
		<script src="assets/plugins/custom/datatables/datatables.bundle.js"></script>
		<!--end::Vendors Javascript-->
		<!--begin::Custom Javascript(used for this page only)-->
		<script src="assets/js/widgets.bundle.js"></script>
		<script src="assets/js/custom/widgets.js"></script>
		<script src="assets/js/custom/apps/chat/chat.js"></script>
		<script src="assets/js/custom/utilities/modals/upgrade-plan.js"></script>
		<script src="assets/js/custom/utilities/modals/users-search.js"></script>
		<!--end::Custom Javascript-->
		<!--end::Javascript-->
	</body>
</html>